<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Google Books Search</title>
</head>
<body>
    <h1>Buscar Livros</h1>
    <input type="text" id="searchInput" placeholder="Digite o título ou autor">
    <button id="searchBtn">Buscar</button>

    <div id="results"></div>

    <script>
        document.getElementById("searchBtn").addEventListener("click", async () => {
            const query = document.getElementById("searchInput").value;

            if (!query) {
                alert("Digite algo para buscar");
                return;
            }

            const res = await fetch(`/books/search?q=${encodeURIComponent(query)}`);
            const data = await res.json();

            const resultsDiv = document.getElementById("results");
            resultsDiv.innerHTML = "";

            if (data.items) {
                data.items.forEach(book => {
                    const title = book.volumeInfo.title || "Sem título";
                    const authors = book.volumeInfo.authors ? book.volumeInfo.authors.join(", ") : "Autor desconhecido";
                    resultsDiv.innerHTML += `<p><strong>${title}</strong> - ${authors}</p>`;
                });
            } else {
                resultsDiv.innerHTML = "<p>Nenhum livro encontrado.</p>";
            }
        });
    </script>
</body>
</html>
